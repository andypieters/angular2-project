<h1>{{title}}</h1>
<div class="col-md-6 col-lg-6 well">
  <form [formGroup]="form" (submit)="submit()" >
    <fieldset>
      <legend>User</legend>
      <div class="form-group">
        <label for="name">Name</label>
        <input [(ngModel)]="user.name" formControlName="name" type="text" class="form-control">
        <div *ngIf="form.controls.name.errors?.required && form.controls.name.touched" 
          class="alert alert-danger">Name is required</div>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input [(ngModel)]="user.email" formControlName="email" type="text" class="form-control">
        <div *ngIf="form.controls.email.errors?.validEmail && form.controls.email.touched" 
          class="alert alert-danger">Please use a valid email address</div>
      </div>
      <div class="form-group">
        <label for="phone">Phone</label>
        <input [(ngModel)]="user.phone" formControlName="phone" type="text" class="form-control">
      </div>
    </fieldset>
    <fieldset formGroupName="address">
      <legend>Address</legend>
      <div class="form-group">
        <label for="street">Street</label>
        <input [(ngModel)]="user.address.street" formControlName="street" type="text" class="form-control">
      </div>
      <div class="form-group">
        <label for="suite">Suite</label>
        <input [(ngModel)]="user.address.suite" formControlName="suite" type="text" class="form-control">
      </div>
      <div class="form-group">
        <label for="city">City</label>
        <input [(ngModel)]="user.address.city" formControlName="city" type="text" class="form-control">
      </div>
      <div class="form-group">
        <label for="zipcode">Zipcode</label>
        <input [(ngModel)]="user.address.zipcode" formControlName="zipcode" type="text" class="form-control">
      </div>
    </fieldset>
    <button [disabled]="!form.valid" class="btn btn-primary">Submit</button>
  </form>
</div>